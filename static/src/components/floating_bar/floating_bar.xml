<?xml version="1.0" encoding="UTF-8"?>
<templates xml:space="preserve">
    
    <t t-name="inventory_shopping_cart.FloatingBar" owl="1">
        <div class="shopping-cart-floating-bar" t-if="cart.totalLots > 0">
            <div class="floating-bar-content">
                <div class="cart-summary">
                    <i class="fa fa-shopping-cart me-2"></i>
                    <strong t-esc="Object.keys(cart.productGroups).length"></strong> <t t-if="Object.keys(cart.productGroups).length === 1">Modelo</t><t t-else="">Modelos</t> |
                    <strong t-esc="cart.totalLots"></strong> <t t-if="cart.totalLots === 1">Unidad</t><t t-else="">Unidades</t> |
                    <strong t-esc="formatNumber(cart.totalQuantity)"></strong> mÂ²
                </div>
                <div class="cart-actions">
                    <button class="btn btn-sm btn-light me-2" t-on-click="clearCart">
                        <i class="fa fa-times"></i> Limpiar
                    </button>
                    <button class="btn btn-sm btn-primary" t-on-click="openCartDialog">
                        <i class="fa fa-shopping-cart"></i> Ver Carrito
                    </button>
                </div>
            </div>
        </div>
    </t>
    
    <t t-name="inventory_visual_enhanced.InventoryView" t-inherit="inventory_visual_enhanced.InventoryView" t-inherit-mode="extension" owl="1">
        <xpath expr="//div[hasclass('o_inventory_visual_content')]" position="after">
            <t t-call="inventory_shopping_cart.FloatingBar"/>
        </xpath>
        <xpath expr="//div[hasclass('o_inventory_visual_content')]" position="attributes">
            <attribute name="style">padding-bottom: 120px;</attribute>
        </xpath>
    </t>
    
</templates>